{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'chat/css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'profile/css/profile.css' %}">
<div class="profile-card">
    <div class="text-center">
        <img src="{{ profile.avatar.url }}" class="profile-avatar mb-2" alt="Avatar">
        <div class="profile-nickname">{{ profile.nickname|default:profile.user.username }}</div>
        <div class="profile-username">@{{ profile.user.username }}</div>
        {% if profile.bio %}
        <div class="profile-bio" style="margin-bottom: 32px;">{{ profile.bio }}</div>
        {% endif %}
    </div>
    <ul class="profile-info-list mt-4" style="margin-top: 32px;">
        {% if profile.gender %}
        <li><span class="profile-info-icon">🚻</span> 性别：
            {% if profile.gender == 'F' %}女{% elif profile.gender == 'M' %}男{% else %}保密{% endif %}
        </li>
        {% endif %}
        {% if profile.birthday %}
        <li><span class="profile-info-icon">🎂</span> 生日：{{ profile.birthday }}</li>
        {% endif %}
        {% if profile.location %}
        <li><span class="profile-info-icon">📍</span> 地区：{{ profile.location }}</li>
        {% endif %}
    </ul>
    {% if request.user == profile.user %}
    <div class="text-center">
        <a href="{% url 'profile_edit' username=request.user.username %}"
            class="btn btn-primary profile-edit-btn">编辑资料</a>
    </div>
    {% endif %}
</div>
<script src="{% static 'profile/js/profile.js' %}"></script>
{% endblock %}