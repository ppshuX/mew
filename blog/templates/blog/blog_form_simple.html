{% extends "base.html" %}
{% load static %}
{% block title %}写动态{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'blog/css/blog_form_simple.css' %}">
<div class="mew-form-bg">
    <div class="mew-form-card-simple">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="mew-form-title">
                <span style="font-size: 2.2rem; vertical-align: middle;">📝</span>
                <span style="vertical-align: middle;">写动态</span>
            </div>
            <a href="{% url 'blog_create' %}" class="mew-switch-btn">切换到博客编辑</a>
        </div>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-4">
                <label class="mew-form-label">标题（可选）</label>
                <input type="text" name="title" class="mew-form-input" maxlength="100" placeholder="动态标题（可不填）">
            </div>
            <div class="mb-4">
                <label class="mew-form-label">内容 <span style="color: #ff6bcb;">*</span></label>
                <textarea name="content" class="mew-form-textarea" rows="6" maxlength="5000" placeholder="写下你的动态内容……"
                    required></textarea>
            </div>
            <div class="mb-4">
                <label class="mew-form-label">类别</label>
                <select name="category" class="mew-form-select">
                    <option value="all">全部类别</option>
                    {% for value, label in category_choices %}
                    <option value="{{ value }}">{{ label }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-4">
                <label class="mew-form-label">多图上传</label>
                <input type="file" name="images" accept="image/*" multiple class="mew-form-input">
                <div class="mew-form-text">最多可选9张图片，支持预览和删除</div>
            </div>
            <div class="mb-4">
                <label class="mew-form-label">发布到</label>
                <select name="publish_type" class="mew-form-select">
                    <option value="private">私密动态</option>
                    <option value="moments">朋友圈</option>
                    <option value="plaza">广场</option>
                </select>
            </div>
            <div class="mew-form-btn-row">
                <a href="{% url 'userzone:detail' request.user.username %}" class="mew-form-btn-cancel">取消</a>
                <button type="submit" class="mew-form-btn-main">发布</button>
            </div>
        </form>
    </div>
</div>
<script src="{% static 'blog/js/blog_form_simple.js' %}"></script>
{% endblock %}