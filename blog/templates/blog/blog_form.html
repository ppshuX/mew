{% extends "base.html" %}
{% load static %}

{% block title %}å†™åŠ¨æ€{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'blog/css/blog_form.css' %}">
<div class="mew-form-bg">
    <div class="mew-form-card">
        <div class="mew-form-title">
            <span style="font-size: 2.2rem; vertical-align: middle;">ğŸ“</span>
            <span style="vertical-align: middle;">å†™åŠ¨æ€</span>
        </div>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-4">
                <label class="mew-form-label">æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰</label>
                {{ form.title }}
                <div class="mew-form-text">æ ‡é¢˜æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸å¡«å†™å°†åªæ˜¾ç¤ºå†…å®¹</div>
            </div>
            <div class="mb-4">
                <label class="mew-form-label">å†…å®¹ <span style="color: #ff6bcb;">*</span></label>
                {{ form.content }}
                <div id="content-counter" style="text-align:right;font-size:0.98rem;margin-top:4px;color:#aaa;">
                </div>
                <div id="content-warning" style="color:#ff4d4f;font-size:0.98rem;margin-top:2px;display:none;">
                    å­—æ•°å·²è¶…å‡ºæœ€å¤§é™åˆ¶ï¼
                </div>
            </div>
            <div class="mb-4">
                <label class="mew-form-label">ç±»åˆ«</label>
                {{ form.category }}
            </div>
            <div class="mb-4">
                <label class="mew-form-label">é…å›¾</label>
                {{ form.cover_image }}
                <div class="mew-form-text">å¯ä»¥é€‰æ‹©ä¸€å¼ å›¾ç‰‡ä½œä¸ºåŠ¨æ€é…å›¾</div>
                <!-- å¤šå›¾ä¸Šä¼ åŒºåŸŸ -->
                <div style="margin-top:10px;">
                    <label class="mew-form-label">å¤šå›¾ä¸Šä¼ </label>
                    <div id="image-preview-container" style="display:flex;flex-wrap:wrap;gap:10px;"></div>
                    <input type="file" id="id_images" name="images" accept="image/*" multiple style="display:none;">
                    <button type="button" id="add-image-btn" class="btn btn-outline-primary"
                        style="margin-top:8px;">é€‰æ‹©å›¾ç‰‡</button>
                    <div class="mew-form-text">æœ€å¤šå¯é€‰9å¼ å›¾ç‰‡ï¼Œæ”¯æŒé¢„è§ˆå’Œåˆ é™¤</div>
                </div>
            </div>
            <div class="mb-4">
                <label class="mew-form-label">å‘å¸ƒåˆ°</label>
                {{ form.publish_type }}
            </div>
            <hr class="mew-form-btn-divider">
            <div class="mew-form-btn-row">
                <a href="{% url 'userzone:detail' request.user.username %}" class="mew-form-btn-cancel">å–æ¶ˆ</a>
                <button type="submit" class="mew-form-btn-main">å‘å¸ƒ</button>
            </div>
        </form>
    </div>
</div>
<script src="{% static 'blog/js/blog_form.js' %}"></script>
{% endblock %}